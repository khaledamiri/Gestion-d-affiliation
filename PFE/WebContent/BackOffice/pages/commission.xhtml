<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.org/ui">
<h:head>
	<!--     <meta charset="UTF-8"></meta> -->
	<title>AdminIprecision | Dashboard</title>
	<meta
		content='width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no'
		name='viewport'></meta>
	<link
		href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.1/css/bootstrap.min.css"
		rel="stylesheet" type="text/css" />
	<link
		href="https://maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css"
		rel="stylesheet" type="text/css" />
	<!-- Ionicons -->
	<link
		href="http://code.ionicframework.com/ionicons/2.0.0/css/ionicons.min.css"
		rel="stylesheet" type="text/css" />
	<!-- Theme style -->
	<link href="../dist/css/AdminLTE.min.css" rel="stylesheet"
		type="text/css" />
	<!-- AdminLTE Skins. Choose a skin from the css/skins 
         folder instead of downloading all of them to reduce the load. -->
	<link href="../dist/css/skins/_all-skins.min.css" rel="stylesheet"
		type="text/css" />

	<!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
	<!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
	<!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
        <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
    <![endif]-->
	<h:outputScript library="primefaces" name="jquery/jquery.js" />

</h:head>
<h:body class="skin-blue">
	<!-- Site wrapper -->
	<div class="wrapper">
		<!-- header logo: style can be found in header.less -->
		<header class="main-header"> <a href="../../index2.html"
			class="logo"><b>Admin</b>Iprecision</a> <!-- Header Navbar: style can be found in header.less -->
		<nav class="navbar navbar-static-top" role="navigation"> <!-- Sidebar toggle button-->
		<a href="#" class="sidebar-toggle" data-toggle="offcanvas"
			role="button"> <span class="sr-only">Toggle navigation</span> <span
			class="icon-bar"></span> <span class="icon-bar"></span> <span
			class="icon-bar"></span>
		</a> <!--           <div class="navbar-custom-menu"> --> <!--             <ul class="nav navbar-nav"> -->
		<!--               Messages: style can be found in dropdown.less --> <!--               <li class="dropdown messages-menu"> -->
		<!--                 <a href="#" class="dropdown-toggle" data-toggle="dropdown"> -->
		<!--                   <i class="fa fa-envelope-o"></i> --> <!--                   <span class="label label-success">4</span> -->
		<!--                 </a> --> <!--                 <ul class="dropdown-menu"> -->
		<!--                   <li class="header">You have 4 messages</li> -->
		<!--                   <li> --> <!--                     inner menu: contains the actual data -->
		<!--                     <ul class="menu"> --> <!--                       <li>start message -->
		<!--                         <a href="#"> --> <!--                           <div class="pull-left"> -->
		<!--                             <img src="../../dist/img/user2-160x160.jpg" class="img-circle" alt="User Image"/> -->
		<!--                           </div> --> <!--                           <h4> -->
		<!--                             Support Team --> <!--                             <small><i class="fa fa-clock-o"></i> 5 mins</small> -->
		<!--                           </h4> --> <!--                           <p>Why not buy a new awesome theme?</p> -->
		<!--                         </a> --> <!--                       </li>end message -->
		<!--                     </ul> --> <!--                   </li> --> <!--                   <li class="footer"><a href="#">See All Messages</a></li> -->
		<!--                 </ul> --> <!--               </li> --> <!--               Notifications: style can be found in dropdown.less -->
		<!--               <li class="dropdown notifications-menu"> --> <!--                 <a href="#" class="dropdown-toggle" data-toggle="dropdown"> -->
		<!--                   <i class="fa fa-bell-o"></i> --> <!--                   <span class="label label-warning">10</span> -->
		<!--                 </a> --> <!--                 <ul class="dropdown-menu"> -->
		<!--                   <li class="header">You have 10 notifications</li> -->
		<!--                   <li> --> <!--                     inner menu: contains the actual data -->
		<!--                     <ul class="menu"> --> <!--                       <li> -->
		<!--                         <a href="#"> --> <!--                           <i class="fa fa-users text-aqua"></i> 5 new members joined today -->
		<!--                         </a> --> <!--                       </li> -->
		<!--                     </ul> --> <!--                   </li> --> <!--                   <li class="footer"><a href="#">View all</a></li> -->
		<!--                 </ul> --> <!--               </li> --> <!--               Tasks: style can be found in dropdown.less -->
		<!--               <li class="dropdown tasks-menu"> --> <!--                 <a href="#" class="dropdown-toggle" data-toggle="dropdown"> -->
		<!--                   <i class="fa fa-flag-o"></i> --> <!--                   <span  	class="label label-danger">9</span> -->
		<!--                 </a> --> <!--                 <ul class="dropdown-menu"> -->
		<!--                   <li class="header">You have 9 tasks</li> --> <!--                   <li> -->
		<!--                     inner menu: contains the actual data --> <!--                     <ul class="menu"> -->
		<!--                       <li>Task item --> <!--                         <a href="#"> -->
		<!--                           <h3> --> <!--                             Design some buttons -->
		<!--                             <small class="pull-right">20%</small> -->
		<!--                           </h3> --> <!--                           <div class="progress xs"> -->
		<!--                             <div class="progress-bar progress-bar-aqua" style="width: 20%" role="progressbar" aria-valuenow="20" aria-valuemin="0" aria-valuemax="100"> -->
		<!--                               <span class="sr-only">20% Complete</span> -->
		<!--                             </div> --> <!--                           </div> -->
		<!--                         </a> --> <!--                       </li>end task item -->
		<!--                     </ul> --> <!--                   </li> --> <!--                   <li class="footer"> -->
		<!--                     <a href="#">View all tasks</a> --> <!--                   </li> -->
		<!--                 </ul> --> <!--               </li> --> <!--               User Account: style can be found in dropdown.less -->
		<!--               <li class="dropdown user user-menu"> --> <!--                 <a href="#" class="dropdown-toggle" data-toggle="dropdown"> -->
		<!--                   <img src="../../dist/img/user2-160x160.jpg" class="user-image" alt="User Image"/> -->
		<!--                   <span class="hidden-xs">Alexander Pierce</span> -->
		<!--                 </a> --> <!--                 <ul class="dropdown-menu"> -->
		<!--                   User image --> <!--                   <li class="user-header"> -->
		<!--                     <img src="../../dist/img/user2-160x160.jpg" class="img-circle" alt="User Image" /> -->
		<!--                     <p> --> <!--                       Alexander Pierce - Web Developer -->
		<!--                       <small>Member since Nov. 2012</small> --> <!--                     </p> -->
		<!--                   </li> --> <!--                   Menu Body -->
		<!--                   <li class="user-body"> --> <!--                     <div class="col-xs-4 text-center"> -->
		<!--                       <a href="#">Followers</a> --> <!--                     </div> -->
		<!--                     <div class="col-xs-4 text-center"> --> <!--                       <a href="#">Sales</a> -->
		<!--                     </div> --> <!--                     <div class="col-xs-4 text-center"> -->
		<!--                       <a href="#">Friends</a> --> <!--                     </div> -->
		<!--                   </li> --> <!--                   Menu Footer -->
		<!--                   <li class="user-footer"> --> <!--                     <div class="pull-left"> -->
		<!--                       <a href="#" class="btn btn-default btn-flat">Profile</a> -->
		<!--                     </div> --> <!--                     <div class="pull-right"> -->
		<!--                       <a href="#" class="btn btn-default btn-flat">Sign out</a> -->
		<!--                     </div> --> <!--                   </li> --> <!--                 </ul> -->
		<!--               </li> --> <!--             </ul> --> <!--           </div> -->
		</nav> </header>

		<!-- =============================================== -->

		<!-- Left side column. contains the sidebar -->
		<aside class="main-sidebar"> <!-- sidebar: style can be found in sidebar.less -->
		<section class="sidebar"> <!-- Sidebar user panel -->
		<div class="user-panel">
			<div class="pull-left image">
				<img src="../dist/img/khaledamiri.jpg" class="img-circle"
					alt="User Image" />
			</div>
			<div class="pull-left info">
				<p>
					<h:outputText value="#{utilisateurctr.loggedUser}"></h:outputText>
				</p>

				<a href="#"><i class="fa fa-circle text-success"></i> <h:outputLink
						value="#{facesContext.externalContext.request.contextPath}/j_spring_security_logout">
						<h:outputText value="Online" />
					</h:outputLink> </a>
			</div>
		</div>
		<!-- search form -->
		<form action="#" method="get" class="sidebar-form">
			<div class="input-group">
				<input type="text" name="q" class="form-control"
					placeholder="Search..." /> <span class="input-group-btn">
					<button type='submit' name='seach' id='search-btn'
						class="btn btn-flat">
						<i class="fa fa-search"></i>
					</button>
				</span>
			</div>
		</form>
		<!-- /.search form --> <!-- sidebar menu: : style can be found in sidebar.less -->
		<ul class="sidebar-menu">
			<li class="header">MAIN NAVIGATION</li>
			<li class="treeview"><a href="#"> <i class="fa fa-dashboard"></i>
					<span>Dashboard</span> <i class="fa fa-angle-left pull-right"></i>
			</a>
				<ul class="treeview-menu">
					<li><a href="../index.xhtml"><i class="fa fa-circle-o"></i>
							Dashboard </a></li>
				</ul></li>


			<li><a href="gestionBannieres.xhtml"> <i class="fa fa-table"></i>
					<span>Gestion des banniéres</span> <small
					class="label pull-right bg-red"><h:form>
					<p:outputLabel id="txt_count1" value="#{bannierectr.number}" />
    
					<p:poll listener="#{bannierectr.sizeBanniere()}" update="txt_count1" />
					</h:form></small>
			</a></li>
			<li><a href="gestionCssBann.xhtml"> <i class="fa fa-table"></i>
					<span>Gestion CSS des banniéres</span>
			</a></li>
			<li><a href="gestionutilisateur.xhtml"> <i
					class="fa fa-table"></i> <span>Gestion des utililisateurs</span> <small
					class="label pull-right bg-red"><h:form>
					<p:outputLabel id="txt_count" value="#{utilisateurctr.number}" />
    
					<p:poll listener="#{utilisateurctr.sizeUtil()}" update="txt_count" />
					</h:form>
					</small>
			</a></li>



			<li class="active"><a href="commission.xhtml"> <i class="fa fa-history"></i>
					<span>Gestion du traçabilité d'affilié</span>
			</a></li>

<li><a href="calendar.xhtml"> <i class="fa fa-calendar"></i>
					<span>Calendar</span> <small class="label pull-right bg-red">3</small>
			</a></li>
			<li ><a href="mails.xhtml"> <i
					class="fa fa-envelope"></i> <span>Mailbox</span> <small
					class="label pull-right bg-yellow"><h:form>
							<p:outputLabel id="txt_count3" value="#{suggCtr.number}" />

							<p:poll listener="#{suggCtr.sizemail()}"
								update="txt_count3" />
						</h:form></small>
			</a></li>

			<li><a href="webservice.xhtml"> <i class="fa  fa-weibo"></i>
					<span>Mes Web-Services</span>
			</a></li>


		</ul>
		</section> <!-- /.sidebar --> </aside>

		<!-- =============================================== -->

		<!-- Right side column. Contains the navbar and content of the page -->
		<div class="content-wrapper">
			<!-- Content Header (Page header) -->
			<section class="content-header">
			<h1>
				Historique <small></small>
			</h1>
			<ol class="breadcrumb">
				<li><a href="../index.xhtml"><i class="fa fa-dashboard"></i>
						Home</a></li>
				<li><a href="#">Pages</a></li>
				<li class="active">Commission</li>
			</ol>
			</section>

			<!-- Main content -->
			<section class="content"> <!-- Default box -->
			<div class="box">
				<!-- 				<div class="box-header with-border"> -->
				<!-- 					<h3 class="box-title">Liste des banniéres</h3> -->
				<!--               <div class="box-tools pull-right"> -->
				<!--                 <button class="btn btn-box-tool" data-widget="collapse" data-toggle="tooltip" title="Collapse"><i class="fa fa-minus"></i></button> -->
				<!--                 <button class="btn btn-box-tool" data-widget="remove" data-toggle="tooltip" title="Remove"><i class="fa fa-times"></i></button> -->
				<!--               </div> -->
				<!-- 				</div> -->
				<div class="box-body">






					<h:form id="form">

						<p:dataTable id="basicDT" var="car" paginator="true"
							value="#{utilisateurctr.auteurTitles}"
							sortBy="#{car.adresseIpaffilie}">



							<p:column headerText="Adresse Ip affilie"
								filterMatchMode="contains" filterBy="#{car.adresseIpaffilie}"
								sortBy="#{car.adresseIpaffilie}">
								<h:outputText value="#{car.adresseIpaffilie}" />
							</p:column>
							<p:column headerText="Adresse Ip Client"
								filterMatchMode="contains" filterBy="#{car.adresseIpClient}">
								<h:outputText value="#{car.adresseIpClient}" />
							</p:column>
							<p:column headerText="Désignatio du banniére"
								filterMatchMode="contains" filterBy="#{car.designBanniere}">
								<h:outputText value="#{car.designBanniere}" />
							</p:column>
							<p:column headerText="Date de clique" filterMatchMode="contains"
								filterBy="#{car.date}">
								<h:outputText value="#{car.date}" />
							</p:column>
							<p:summaryRow>
								<p:column colspan="1" style="text-align:right">
									<h:outputText value="Total:" />
								</p:column>
								<p:column colspan="2">
									<h:outputText
										value="#{utilisateurctr.commissionAffilie(car.adresseIpaffilie)}">
										<f:convertNumber type="currency" minFractionDigits="0"
											currencySymbol="centimes" />
									</h:outputText>
								</p:column>
								<p:column style="width:60px;text-align: center">
									<p:commandButton oncomplete="PF('rapport').show()"
										update=":form:carDetaill" icon="ui-icon-print" title="View">
										<f:setPropertyActionListener value="#{car}"
											target="#{utilisateurctr.banndatatable}" />
									</p:commandButton>
								</p:column>
							</p:summaryRow>
						</p:dataTable>

							<p:dialog header="Rapport" widgetVar="rapport" modal="true" id="idrap" 
								showEffect="fade" hideEffect="fade" resizable="true">

								<p:growl id="growl" life="2000" />
								<p:outputPanel id="carDetaill" style="text-align:center;">
									<p:panelGrid columns="2">



										<p:outputLabel value="Utilisateurs * : " />


										<p:inputText readonly="true"
											value="#{utilisateurctr.banndatatable.adresseIpaffilie}"   />

										<p:outputLabel for="du" value="Du" />
										
										<p:calendar id="du" value="#{utilisateurctr.du}" mask="true"   
											pattern="yyyy-MM-dd"  />



										<p:outputLabel for="au" value="Au" />

									<p:calendar id="au" value="#{utilisateurctr.au}"
											pattern="yyyy-MM-dd" mask="true" ></p:calendar>


										<h:commandButton value="Reset" type="reset"
											styleClass="btn btn-warning" />

										<h:commandButton value="Avoir Rapport" id="ajax"
											update="growl" actionListener="#{utilisateurctr.versPDF()}"
											icon="ui-icon-check" styleClass="btn btn-success"></h:commandButton>

									</p:panelGrid>
								</p:outputPanel>
							</p:dialog>

					</h:form>












				</div>
				<!-- /.box-body -->
				<div class="box-footer">

					<!-- 				Footer -->
				</div>
				<!-- /.box-footer-->
			</div>
			<!-- /.box --> </section>
			<!-- /.content -->
		</div>
		<!-- /.content-wrapper -->

		<footer class="main-footer">
		<div class="pull-right hidden-xs">
			<b>Version</b> béta
		</div>
		<strong>Copyright &copy; 2014-2015 <a
			href="http://www.time.ens.tn/">TIME</a>.
		</strong> All rights reserved. </footer>
	</div>
	
</h:body>
</html>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.org/ui">
<h:head>
	<!--     <meta charset="UTF-8"></meta> -->
	<title>AdminIprecision | Dashboard</title>
	<meta
		content='width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no'
		name='viewport' />
	<link
		href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.1/css/bootstrap.min.css"
		rel="stylesheet" type="text/css" />
	<link
		href="https://maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css"
		rel="stylesheet" type="text/css" />
	<!-- Ionicons -->
	<link
		href="http://code.ionicframework.com/ionicons/2.0.0/css/ionicons.min.css"
		rel="stylesheet" type="text/css" />
	<!-- Theme style -->
	<link href="../dist/css/AdminLTE.min.css" rel="stylesheet"
		type="text/css" />
	<!-- AdminLTE Skins. Choose a skin from the css/skins 
         folder instead of downloading all of them to reduce the load. -->
	<link href="../dist/css/skins/_all-skins.min.css" rel="stylesheet"
		type="text/css" />

	<!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
	<!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
	<!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
        <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
    <![endif]-->
	<h:outputScript library="primefaces" name="jquery/jquery.js" />
	<style type="text/css">
.ui-growl {
	position: absolute;
	right: 0px;
	top: 50px;
	font-size: 13px;
}
}
</style>
</h:head>
<h:body class="skin-blue">
	<!-- Site wrapper -->
	<div class="wrapper">
		<!-- header logo: style can be found in header.less -->
		<header class="main-header"> <a href="../../index2.html"
			class="logo"><b>Admin</b>Iprecision</a> <!-- Header Navbar: style can be found in header.less -->
		<nav class="navbar navbar-static-top" role="navigation"> <!-- Sidebar toggle button-->
		<a href="#" class="sidebar-toggle" data-toggle="offcanvas"
			role="button"> <span class="sr-only">Toggle navigation</span> <span
			class="icon-bar"></span> <span class="icon-bar"></span> <span
			class="icon-bar"></span>
		</a> <!--           <div class="navbar-custom-menu"> --> <!--             <ul class="nav navbar-nav"> -->
		<!--               Messages: style can be found in dropdown.less --> <!--               <li class="dropdown messages-menu"> -->
		<!--                 <a href="#" class="dropdown-toggle" data-toggle="dropdown"> -->
		<!--                   <i class="fa fa-envelope-o"></i> --> <!--                   <span class="label label-success">4</span> -->
		<!--                 </a> --> <!--                 <ul class="dropdown-menu"> -->
		<!--                   <li class="header">You have 4 messages</li> -->
		<!--                   <li> --> <!--                     inner menu: contains the actual data -->
		<!--                     <ul class="menu"> --> <!--                       <li>start message -->
		<!--                         <a href="#"> --> <!--                           <div class="pull-left"> -->
		<!--                             <img src="../../dist/img/user2-160x160.jpg" class="img-circle" alt="User Image"/> -->
		<!--                           </div> --> <!--                           <h4> -->
		<!--                             Support Team --> <!--                             <small><i class="fa fa-clock-o"></i> 5 mins</small> -->
		<!--                           </h4> --> <!--                           <p>Why not buy a new awesome theme?</p> -->
		<!--                         </a> --> <!--                       </li>end message -->
		<!--                     </ul> --> <!--                   </li> --> <!--                   <li class="footer"><a href="#">See All Messages</a></li> -->
		<!--                 </ul> --> <!--               </li> --> <!--               Notifications: style can be found in dropdown.less -->
		<!--               <li class="dropdown notifications-menu"> --> <!--                 <a href="#" class="dropdown-toggle" data-toggle="dropdown"> -->
		<!--                   <i class="fa fa-bell-o"></i> --> <!--                   <span class="label label-warning">10</span> -->
		<!--                 </a> --> <!--                 <ul class="dropdown-menu"> -->
		<!--                   <li class="header">You have 10 notifications</li> -->
		<!--                   <li> --> <!--                     inner menu: contains the actual data -->
		<!--                     <ul class="menu"> --> <!--                       <li> -->
		<!--                         <a href="#"> --> <!--                           <i class="fa fa-users text-aqua"></i> 5 new members joined today -->
		<!--                         </a> --> <!--                       </li> -->
		<!--                     </ul> --> <!--                   </li> --> <!--                   <li class="footer"><a href="#">View all</a></li> -->
		<!--                 </ul> --> <!--               </li> --> <!--               Tasks: style can be found in dropdown.less -->
		<!--               <li class="dropdown tasks-menu"> --> <!--                 <a href="#" class="dropdown-toggle" data-toggle="dropdown"> -->
		<!--                   <i class="fa fa-flag-o"></i> --> <!--                   <span  	class="label label-danger">9</span> -->
		<!--                 </a> --> <!--                 <ul class="dropdown-menu"> -->
		<!--                   <li class="header">You have 9 tasks</li> --> <!--                   <li> -->
		<!--                     inner menu: contains the actual data --> <!--                     <ul class="menu"> -->
		<!--                       <li>Task item --> <!--                         <a href="#"> -->
		<!--                           <h3> --> <!--                             Design some buttons -->
		<!--                             <small class="pull-right">20%</small> -->
		<!--                           </h3> --> <!--                           <div class="progress xs"> -->
		<!--                             <div class="progress-bar progress-bar-aqua" style="width: 20%" role="progressbar" aria-valuenow="20" aria-valuemin="0" aria-valuemax="100"> -->
		<!--                               <span class="sr-only">20% Complete</span> -->
		<!--                             </div> --> <!--                           </div> -->
		<!--                         </a> --> <!--                       </li>end task item -->
		<!--                     </ul> --> <!--                   </li> --> <!--                   <li class="footer"> -->
		<!--                     <a href="#">View all tasks</a> --> <!--                   </li> -->
		<!--                 </ul> --> <!--               </li> --> <!--               User Account: style can be found in dropdown.less -->
		<!--               <li class="dropdown user user-menu"> --> <!--                 <a href="#" class="dropdown-toggle" data-toggle="dropdown"> -->
		<!--                   <img src="../../dist/img/user2-160x160.jpg" class="user-image" alt="User Image"/> -->
		<!--                   <span class="hidden-xs">Alexander Pierce</span> -->
		<!--                 </a> --> <!--                 <ul class="dropdown-menu"> -->
		<!--                   User image --> <!--                   <li class="user-header"> -->
		<!--                     <img src="../../dist/img/user2-160x160.jpg" class="img-circle" alt="User Image" /> -->
		<!--                     <p> --> <!--                       Alexander Pierce - Web Developer -->
		<!--                       <small>Member since Nov. 2012</small> --> <!--                     </p> -->
		<!--                   </li> --> <!--                   Menu Body -->
		<!--                   <li class="user-body"> --> <!--                     <div class="col-xs-4 text-center"> -->
		<!--                       <a href="#">Followers</a> --> <!--                     </div> -->
		<!--                     <div class="col-xs-4 text-center"> --> <!--                       <a href="#">Sales</a> -->
		<!--                     </div> --> <!--                     <div class="col-xs-4 text-center"> -->
		<!--                       <a href="#">Friends</a> --> <!--                     </div> -->
		<!--                   </li> --> <!--                   Menu Footer -->
		<!--                   <li class="user-footer"> --> <!--                     <div class="pull-left"> -->
		<!--                       <a href="#" class="btn btn-default btn-flat">Profile</a> -->
		<!--                     </div> --> <!--                     <div class="pull-right"> -->
		<!--                       <a href="#" class="btn btn-default btn-flat">Sign out</a> -->
		<!--                     </div> --> <!--                   </li> --> <!--                 </ul> -->
		<!--               </li> --> <!--             </ul> --> <!--           </div> -->
		</nav> </header>

		<!-- =============================================== -->

		<!-- Left side column. contains the sidebar -->
		<aside class="main-sidebar"> <!-- sidebar: style can be found in sidebar.less -->
		<section class="sidebar"> <!-- Sidebar user panel -->
		<div class="user-panel">
			<div class="pull-left image">
				<img src="../dist/img/khaledamiri.jpg" class="img-circle"
					alt="User Image" />
			</div>
			<div class="pull-left info">
				<p>
					<h:outputText value="#{utilisateurctr.loggedUser}"></h:outputText>
				</p>

				<a href="#"><i class="fa fa-circle text-success"></i> Online</a>
			</div>
		</div>
		<!-- search form -->
		<form action="#" method="get" class="sidebar-form">
			<div class="input-group">
				<input type="text" name="q" class="form-control"
					placeholder="Search..." /> <span class="input-group-btn">
					<button type='submit' name='seach' id='search-btn'
						class="btn btn-flat">
						<i class="fa fa-search"></i>
					</button>
				</span>
			</div>
		</form>
		<!-- /.search form --> <!-- sidebar menu: : style can be found in sidebar.less -->
		<ul class="sidebar-menu">
			<li class="header">MAIN NAVIGATION</li>
			<li class="treeview"><a href="#"> <i class="fa fa-dashboard"></i>
					<span>Dashboard</span> <i class="fa fa-angle-left pull-right"></i>
			</a>
				<ul class="treeview-menu">
					<li><a href="../index.xhtml"><i class="fa fa-circle-o"></i>
							Dashboard </a></li>
				</ul></li>



			<li><a href="gestionBannieres.xhtml"> <i class="fa fa-table"></i>
					<span>Gestion des banniéres</span> <small
					class="label pull-right bg-red"><h:form>
							<p:outputLabel id="txt_count1" value="#{bannierectr.number}" />

							<p:poll listener="#{bannierectr.sizeBann()}" update="txt_count1" />
						</h:form></small>
			</a></li>
			<li><a href="gestionCssBann.xhtml"> <i class="fa fa-table"></i>
					<span>Gestion CSS des banniéres</span>
			</a></li>
			<li><a href="gestionutilisateur.xhtml"> <i
					class="fa fa-table"></i> <span>Gestion des utililisateurs</span> <small
					class="label pull-right bg-red"><h:form>
							<p:outputLabel id="txt_count" value="#{utilisateurctr.number}" />

							<p:poll listener="#{utilisateurctr.sizeUtil()}"
								update="txt_count" />
						</h:form> </small>
			</a></li>


			<li><a href="commission.xhtml"> <i class="fa fa-history"></i>
					<span>Gestion du traçabilité d'affilié</span>
			</a></li>
			<li><a href="calendar.xhtml"> <i class="fa fa-calendar"></i>
					<span>Calendar</span> <small class="label pull-right bg-red">3</small>
			</a></li>
			<li class="active"><a href="mails.xhtml"> <i
					class="fa fa-envelope"></i> <span>Mailbox</span> <small
					class="label pull-right bg-yellow"><h:form>
							<p:outputLabel id="txt_count3" value="#{suggCtr.number}" />

							<p:poll listener="#{suggCtr.sizemail()}" update="txt_count3" />
						</h:form></small>
			</a></li>


			<li><a href="webservice.xhtml"> <i class="fa  fa-weibo"></i>
					<span>Mes Web-Services</span>
			</a></li>

		</ul>
		</section> <!-- /.sidebar --> </aside>

		<!-- =============================================== -->

		<!-- Right side column. Contains the navbar and content of the page -->
		<!-- Content Wrapper. Contains page content -->
		<div class="content-wrapper">
			<!-- Content Header (Page header) -->
			<section class="content-header">
			<h1 >Mailbox</h1>
			<ol class="breadcrumb">
				<li><a href="../index.xhtml"><i class="fa fa-dashboard"></i>
						Home</a></li>
				<li><a href="#">Pages</a></li>
				<li class="active">mails.xhtml</li>
			</ol>
			</section>

			<!-- Main content -->
			<section class="content"> <!-- MAILBOX BEGIN -->
			<div class="mailbox row">
				<div class="col-xs-12">
					<div class="box box-solid">
						<div class="box-body">
							<div class="row">
								<div class="col-md-3 col-sm-4">
									<!-- BOXES are complex enough to move the .box-header around.
                                This is an example of having the box header within the box body -->
									<div class="box-header">
										<i class="fa fa-inbox"></i>
										<h3 class="box-title">INBOX</h3>
									</div>
									<!-- compose message btn -->
									<h:form>
									<p:commandButton value="Compose Message"
										oncomplete="PF('mailcompose').show()"
										styleClass="btn btn-block btn-primary"></p:commandButton>

									<p:dialog header="Mails Info" widgetVar="mailcompose"
										modal="true" showEffect="fade" hideEffect="fade"
										resizable="false">

										<h:form>
											<div class="modal-body">
												<div class="form-group">
													
														
														<p:inputText name="email_to" id="emailto" required="true"
															styleClass="form-control small-box" placeholder="à" value="#{suggCtr.mail}"> </p:inputText>

													
												</div>
												
												<div class="form-group">
														

														<p:inputText name="email_to" id="emailobjet" required="true" value="#{suggCtr.objet}"
															styleClass="form-control small-box" placeholder="Objet"></p:inputText>
													
												</div>
												<div class="form-group">
													<p:inputTextarea name="message" id="emailmsg" required="true" value="#{suggCtr.msg}"
														styleClass="form-control small-box" placeholder="Composez un message"
														style="height: 120px;"></p:inputTextarea>
												</div>


											</div>
											<div class="modal-footer clearfix">
												<h:commandButton styleClass="btn btn-danger" value="Discard" />
												<p:commandButton type="submit" value="Submit" actionListener="#{suggCtr.sendMail()}" 
													styleClass="btn btn-primary pull-left" update="growl">
												</p:commandButton>

											</div>
											<p:growl id="growl" life="3000"></p:growl>
										</h:form>


									</p:dialog>

</h:form>

									<!-- Navigation - folders-->
									<div style="margin-top: 15px;">
										<ul class="nav nav-pills nav-stacked">
											<li class="header">Folders</li>
											<li class="active"><a href="#"><i
													class="fa fa-inbox"></i> Inbox</a></li>

											<li><a href="#"><i class="fa fa-mail-forward"></i>
													Sent</a></li>

										</ul>
									</div>
								</div>
								<!-- /.col (LEFT) -->
								<div class="col-md-9 col-sm-8">
									<div class="row pad">

										<div class="col-sm-6 search-form">
											<form action="#" class="text-right">
												<div class="input-group">
													<input type="text" class="form-control input-sm"
														placeholder="Search"></input>
													<div class="input-group-btn">
														<button type="submit" name="q"
															class="btn btn-sm btn-primary">
															<i class="fa fa-search"></i>
														</button>
													</div>
													<div class="input-group-btn"></div>
													<div class="input-group-btn"></div>
												</div>
											</form>
										</div>
									</div>
									<!-- /.row -->

									<div class="table-responsive">
										<!-- THE MESSAGES -->


										<h:form id="form">

											<h:dataTable id="mails" var="mail" 
												styleClass="table table-striped"
												value="#{suggCtr.suggTitles}">

												<h:column id="c2">
													<h:outputText value="#{mail.name}"></h:outputText>

												</h:column>

												<h:column id="c3">
													<h:outputText value="#{mail.email}" />
												</h:column>
												<h:column id="c4">
													<h:outputText value="#{mail.msg}" />
												</h:column>
												<h:column id="c5">
													<h:outputText value="#{mail.date}"
														style="font-weight:bold;" />
												</h:column>
												<h:column>

												</h:column>
												<h:column>
													<p:commandButton update=":form:mailDetail"
														styleClass="right" oncomplete="PF('mailDialog').show()"
														icon="ui-icon-search" title="View">
														<f:setPropertyActionListener value="#{mail}"
															target="#{suggCtr.suggdatatable}" />
													</p:commandButton>


												</h:column>


											</h:dataTable>
											<p:dialog header="Mails Info" widgetVar="mailDialog"
												modal="true" showEffect="fade" hideEffect="fade"
												resizable="false">
												<p:outputPanel id="mailDetail" style="text-align:center;">
													<p:panelGrid columns="2"
														rendered="#{not empty suggCtr.suggdatatable}">

														<p:outputLabel value="Nom" />
														<p:outputLabel value="#{suggCtr.suggdatatable.name}" />

														<p:outputLabel value="E-mail" />
														<p:outputLabel value="#{suggCtr.suggdatatable.email}" />

														<p:outputLabel value="Message" />
														<p:outputLabel value="#{suggCtr.suggdatatable.msg}" />
														<h:commandButton
															action="#{suggCtr.deleteAction(suggdatatable)}"
															value="Supprimer" icon="ui-icon-check"
															styleClass="btn btn-danger" />
													</p:panelGrid>
												</p:outputPanel>
											</p:dialog>


										</h:form>


									</div>
									<!-- /.table-responsive -->
								</div>
								<!-- /.col (RIGHT) -->
							</div>
							<!-- /.row -->
						</div>
						<!-- /.box-body -->
						
						<!-- box-footer -->
					</div>
					<!-- /.box -->
				</div>
				<!-- /.col (MAIN) -->
			</div>
			<!-- MAILBOX END --> </section>
			<!-- /.content -->
		</div>
		<!-- /.content-wrapper -->
		<!-- /.content-wrapper -->

		<footer class="main-footer">
		<div class="pull-right hidden-xs">
			<b>Version</b> béta
		</div>
		<strong>Copyright &copy; 2014-2015 <a
			href="http://www.time.ens.tn/">TIME</a>.
		</strong> All rights reserved. </footer>
	</div>


</h:body>
</html>